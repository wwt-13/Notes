[toc]

# pyplot ç»˜å›¾

> å…¶å®ä¸€å¹´å‰å°±æœ‰æƒ³æ³•å¥½å¥½å­¦å­¦ python é‡Œçš„ç”»å›¾åº“ matplotlib åº“ï¼Œä¸»è¦æ˜¯å› ä¸ºæ¯æ¬¡å¯è§†åŒ–ä¸€äº›ç»“æœçš„æ—¶å€™ï¼Œéƒ½æ˜¯æœä¸€äº›åˆ«äººå†™å¥½çš„ä»£ç ï¼Œçœ‹çš„æ—¶å€™æ„Ÿè§‰ä¹±ä¹±çš„ï¼Œä¸æ˜¯è¯´åˆ«äººå†™çš„ä¹±ï¼Œè€Œæ˜¯æ¯ä¸ªäººåœ¨æŸäº›ç‚¹ä¸Šå®ç°çš„æ–¹å¼ä¸å¤ªä¸€æ ·ï¼Œè¿˜æœ‰å°±æ˜¯è§‰å¾—ï¼Œæ€»ç”¨åˆ«äººçš„ï¼Œå°±è§‰å¾—ä¸æ˜¯è‡ªå·±åˆ›é€ çš„ï¼Œæ²¡æœ‰æˆå°±æ„Ÿã€‚è¿™æ®µæ—¶é—´åšäº†ä¸ªæ¯”èµ›ï¼Œå¯è§†åŒ–åˆ†æçš„æ—¶å€™ï¼Œåˆåœ¨æœä»£ç ï¼Œæƒ³è‡ªå·±åŠ ç‚¹ä¸œè¥¿ï¼Œæ„Ÿè§‰å¾ˆè´¹åŠ²ï¼Œåˆä¸çŸ¥é“è¯¥æ€ä¹ˆåŠ ï¼Œæ‰€ä»¥å†³å®šå¥½å¥½å­¦ä¸€ä¸‹ï¼Œå¹¶åšå¥½æ€»ç»“ã€‚[^1]
>
> è¯¥æ®µè¯å‡ºè‡ªæŸçŸ¥ä¹æ–‡ç« ï¼Œä¸ªäººè®¤ä¸ºå’Œè‡ªå·±å­¦ä¹  pyplot ç»˜å›¾çš„ç›®çš„å¦‚å‡ºä¸€è¾™ï¼Œæ¯æ¬¡éƒ½æ˜¯ç”¨åˆ°äº†å†å­¦ï¼Œæ€»è§‰å¾—å­¦åˆ°çš„ä¸œè¥¿é›¶æ•£ä¸æˆä½“ç³»ï¼Œè¿™æ¬¡å°±å€Ÿç€æœ€è¿‘åˆšå¥½æœ‰å¤§é‡å‡½æ•°ç»˜å›¾çš„éœ€æ±‚ï¼Œæ¥ç³»ç»Ÿçš„å­¦ä¹ ä¸€ä¸‹è¿™ä¸ª Python éå¸¸å‡ºåçš„ç»˜å›¾åº“

## åŸºæœ¬ç»˜å›¾åŸç†

> åœ¨ pyplot ç»˜å›¾ä¸­ï¼Œæœ‰ä¸‰ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µéœ€è¦ç†è§£ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ figureã€axesã€axis

-   `figure`: ç”»å¸ƒï¼Œé¡¾åæ€ä¹‰ï¼Œæ‰€æœ‰å›¾åƒéƒ½ç»˜åˆ¶åœ¨ç”»å¸ƒä¸Š
-   `axes`: åæ ‡ç³»ï¼Œå¦‚æœç”»å¸ƒæ˜¯æ¯å›¾çš„è¯ï¼Œé‚£ä¹ˆåæ ‡ç³»å°±æ˜¯ä¸€å¹…å¹…å­å›¾
-   `axis`: åæ ‡è½´ï¼Œæ¯ä¸€å¹…å›¾åƒçš„ xã€yã€z è½´

å…·ä½“å¯ä»¥å‚ç…§ä¸‹é¢ç»™å‡ºçš„å®˜æ–¹å›¾ ğŸ‘‡ğŸ»

![å®˜æ–¹å›¾](../assets/pyplot.webp)

ç»˜åˆ¶ä¸€å‰¯å›¾ï¼Œé¦–å…ˆ**åˆ›å»ºç”»å¸ƒ**ï¼Œç„¶å**åˆ›å»ºåæ ‡ç³»**(_æ ¹æ®æƒ…å†µå¯èƒ½éœ€è¦åˆ›å»ºå¤šä¸ª_)ï¼Œæœ€å**æ ¹æ®æä¾›çš„æ•°æ®ç»˜åˆ¶å›¾åƒ**+**æ·»åŠ å›¾ä¾‹æ³¨é‡Š**ç­‰ç­‰ï¼Œè¿™å°±æ˜¯ pyplot ç»˜å›¾çš„ 4 ä¸ªåŸºæœ¬æ­¥éª¤

pyplot ä¹Ÿæ”¯æŒä¸åˆ›å»ºåæ ‡ç³»ç›´æ¥ç»˜å›¾ï¼Œé‚£æ ·çš„è¯ä¼šä»¥æ•´ä¸ªç”»å¸ƒä¸ºé»˜è®¤åæ ‡ç³»ï¼Œ_è¿™ç±»ç»˜å›¾çš„ç¼ºç‚¹æ˜¯åŒä¸€ç”»å¸ƒæ— æ³•ç»˜åˆ¶å¤šå¹…å›¾åƒ_[^2]

ä¸‹é¢æ˜¯ç»˜å›¾çš„åŸºæœ¬ä»£ç 

```python
# mathå’Œnumpyåº“ä¹Ÿç»å¸¸éœ€è¦ä½¿ç”¨æ‰€ä»¥é¡ºä¾¿å¯¼å…¥
import numpy as np
import matplotlib.pyplot as plt

# ç»˜å›¾å‡½æ•°
def f1(i):
    return 1 / (1 + math.exp(-i))

# åˆ›å»ºæ•°æ®é›†
x = np.arange(-10, 10, 0.1)
y = []
for i in x:
    y.append(f1(i))
# åˆ›å»ºç”»å¸ƒ(numæ˜¯ç”»å¸ƒç¼–å·ã€Œnumä¼šå½±å“ç”»å¸ƒç»˜åˆ¶çš„é¡ºåºç­‰ç­‰ã€ï¼ŒfigsizeæŒ‡å®šç”»å¸ƒå¤§å°)
fig = plt.figure(num=1, figsize=(6, 4))
# æ·»åŠ åæ ‡ç³»ï¼Œå…¶ä¸­1,1,1ä»£è¡¨nrows=1ï¼Œncols=1ï¼Œindex=1,ä»£è¡¨è¯¥ç”»å¸ƒä¸º1x1ï¼Œå¹¶ä¸”åæ ‡ç³»ç»˜åˆ¶åœ¨ç¬¬ä¸€ä¸ªä½ç½®ä¸Š
# ä¹Ÿæœ‰å¦å¤–ä¸€ç§è¡¨è¾¾ä½ç½®çš„æ–¹æ³•ï¼Œæ¯”å¦‚222ï¼Œç­‰ä»·äº(2,2,2)
ax = fig.add_subplot(1, 1, 1)
# æ ¹æ®æ•°æ®ç»˜åˆ¶å›¾å½¢(plot()æ–¹æ³•åªæ˜¯å°†å„ä¸ªç‚¹ç›´çº¿è¿æ¥è€Œå·²)
ax.plot(x, y)
# plt.show()ä¼šé»˜è®¤ç»˜åˆ¶å½“å‰æ‰“å¼€çš„æ‰€æœ‰ç”»å¸ƒå¯¹è±¡ï¼Œç»˜åˆ¶å®Œæˆåä¼šè‡ªåŠ¨å…³é—­æ‰€æœ‰æ‰“å¼€çš„ç”»å¸ƒå¯¹è±¡å¹¶é‡Šæ”¾å†…å­˜ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œç”»å¸ƒå¯¹è±¡éƒ½æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œæ— æ³•é€šè¿‡plt.show()å†æ¬¡è°ƒç”¨ï¼Œè¿™ä¹Ÿæ˜¯jupyteré€‚åˆå›¾å½¢ç»˜åˆ¶çš„åŸå› ä¹‹ä¸€
plt.show()
```

å¾—åˆ°å›¾åƒå¦‚ä¸‹æ‰€ç¤º â†“

![output1](../assets/output1.png)

è‡³æ­¤ï¼Œpyplot çš„åŸºæœ¬ç»˜å›¾åŸç†å·®ä¸å¤šå°±è®²å®Œäº†

---

## å­å›¾ç»˜åˆ¶

> ä¸€èˆ¬æ¥è¯´ï¼Œåªéœ€è¦æŒæ¡åˆ°å­å›¾ç»˜åˆ¶åŸºæœ¬å³å¯ï¼Œåç»­çš„ç½‘æ ¼ç»˜åˆ¶å¤æ‚å­å›¾ç®€å•äº†è§£å³å¯

### ç®€å•å­å›¾ç»˜åˆ¶

> å­å›¾ï¼Œå…¶å®å°±æ˜¯ä¸Šé¢æåˆ°çš„**axes åæ ‡è½´**ï¼Œç»˜åˆ¶å¤šä¸ªå­å›¾ï¼Œå…¶å®åªéœ€è¦åœ¨ç”»å¸ƒä¸Šåˆ›å»ºå¤šä¸ª`axes`å³å¯

å¸¸è§æœ‰ä»¥ä¸‹ä¸¤ç§åˆ›å»ºå­å›¾çš„å½¢å¼

-   `add_subplot(nrows, ncols, index, **kwargs)`: add_subplot(2,2,1)
-   `add_subplot(pos, **kwargs)`: add_subplot(221)

å…¶å®å¯ä»¥å¾ˆå®¹æ˜“çš„çœ‹å‡ºæ³• 2 å°±æ˜¯æ³• 1 çš„ç¼©å†™,å…¶ä¸­å‰ä¸¤ä¸ªæ•°ä»£è¡¨çš„æ˜¯å­å›¾çš„**è¡Œæ•°**å’Œ**åˆ—æ•°**ï¼Œç¬¬ä¸‰ä¸ªæ•°åˆ™ä»£è¡¨å­å›¾çš„*index*(ä»å·¦å¾€å³æ•°,ä» 1 å¼€å§‹)

```python
# ç•¥å»å¯¼åŒ…è¿‡ç¨‹
fig = plt.figure(num=1, figsize=(6, 7))
# åˆ›å»º2x2çš„å­å›¾
rows, cols = 2, 2
ax = []
for i in range(rows * cols):
    ax.append(fig.add_subplot(rows, cols, i + 1))
    # è®¾ç½®å­å›¾æ ‡é¢˜
    ax[i].set_title("ax" + str(i + 1))
```

å¾—åˆ°å›¾è±¡å¦‚ä¸‹å›¾æ‰€ç¤º ğŸ‘‡ğŸ»

![output2](../assets/output2.png)

_PS_: éœ€è¦æ³¨æ„ä¸€ä¸‹å­å›¾æ ‡é¢˜çš„ç»˜åˆ¶æ–¹æ³•[^3]->è§é“¾æ¥è¯„è®ºåŒº

### å¤æ‚å­å›¾ç»˜åˆ¶

> ç”±äºå¹³æ—¶åŸºæœ¬ä¸ä¼šä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œåªä¸¾ä¸ªä¾‹å­äº†è§£ä¸€ä¸‹å³å¯

```python
import matplotlib.gridspec as gridspec  # è°ƒç”¨ç½‘æ ¼

fig = plt.figure(num=1, figsize=(8, 6))  # åˆ›å»ºç”»å¸ƒ
gs = gridspec.GridSpec(3, 3)  # è®¾å®šç½‘æ ¼

ax1 = fig.add_subplot(gs[0, :])  # é€‰å®šç½‘æ ¼
ax1.plot([1, 2, 3, 4], [1, 2, 3, 4])

ax2 = fig.add_subplot(gs[1, :-1])
ax2.plot([1, 2, 3, 4], [1, 2, 3, 4])

ax3 = fig.add_subplot(gs[1:, -1])
ax3.plot([1, 2, 3, 4], [1, 2, 3, 4])

ax4 = fig.add_subplot(gs[2, 0])
ax4.plot([1, 2, 3, 4], [1, 2, 3, 4])

ax5 = fig.add_subplot(gs[2, 1])
ax5.plot([1, 2, 3, 4], [1, 2, 3, 4])

plt.show()
```

![output3](../assets/output3.png)

## æ˜¾ç¤ºè®¾ç½®

> Matplotlib é»˜è®¤ä¸æ”¯æŒä¸­æ–‡å­—ä½“ï¼Œè¿™åœ¨è®¾ç½®å›¾ä¾‹çš„æ—¶å€™æ˜¯ä¸€å¤§é—®é¢˜ï¼Œå› ä¸ºå…¶é»˜è®¤åªæ”¯æŒ ASCII å­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è®¾ç½®é…ç½®æ–‡ä»¶ä½¿å…¶æ”¯æŒä¸­æ–‡å­—ä½“æ˜¾ç¤º
>
> **è¯¦ç»†çš„è®¾ç½®ä»‹ç»**[^4]

å…±æœ‰ä»¥ä¸‹ä¸‰ç§é…ç½®æ–¹æ³•,ä¼˜å…ˆçº§ï¼š*æ³•1>æ³•2>æ³•3*

### Setting rcParams at runtime(åŠ¨æ€è®¾ç½®rcParams)

> **rc**å…¶å®å°±æ˜¯`runtime configuration`çš„ç¼©å†™,æ‰€æœ‰çš„rcè®¾ç½®éƒ½å‚¨å­˜åœ¨ä¸€ä¸ªå­—å…¸å˜é‡(`matplotlib.rcParams`,)é‡Œ
>
> æ³¨æ„`pyplot`ä¸­åŒæ ·å¯¼å…¥äº†è¿™ä¸ªå­—å…¸å˜é‡ï¼Œæ‰€ä»¥è®¾ç½®plt.rcParamsæ˜¯ç­‰æ•ˆçš„`mpl.rcParams == plt.rcParams  # True`

### Using style sheets(ä½¿ç”¨æ ·å¼è¡¨:æ¨è)

### Changing the matplotlibrc file(ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶:æ°¸ä¹…)

# å‚è€ƒèµ„æ–™

[^1]: https://zhuanlan.zhihu.com/p/139052035
[^2]: https://blog.csdn.net/weixin_41261833/article/details/104299701
[^3]: https://www.runoob.com/matplotlib/matplotlib-label.html
[^4]: https://matplotlib.org/stable/tutorials/introductory/customizing.html
