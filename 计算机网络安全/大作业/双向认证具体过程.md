# 双向认证

### Client Hello

>   客户端发出请求，主要向服务端提供一下信息
>
>   1.   支持的`SSL/TLS`协议版本
>
>   2.   支持的加密套件列表`(cipher suite)`
>
>   3.   支持的压缩算法列表`(compression methods)`，用于后续的压缩传输
>
>   4.   产生的一个随机数`random_C(random number)`，客户端有存留，稍后用于生成`"对话密钥(session key)"`
>
>   ![CleanShot 2024-05-31 at 09.02.49](/Users/wwt13/Documents/Notes/assets/CleanShot 2024-05-31 at 09.02.49.png)

### Server Hello

>   收到客服端的请求之后，服务端向客户端回应以下信息：
>
>   1.   根据客户端支持的`SSL/TLS`协议版本，和自己的比较确定使用的`SSL/TLS`协议版本，如果没有合适的，对话关闭
>
>   2.   回应加密套件，压缩算法
>
>   3.   产生的一个随机数`random_S(random number)`，服务端有存留，稍后用于生成`"对话密钥(session key)"`
>
>   4.   服务端数字证书(证明自己的身份，传递公钥)
>
>   5.   如果需要验证客户端，发出请求，要求客户端提供证书
>
>   ![CleanShot 2024-05-31 at 09.07.51](/Users/wwt13/Documents/Notes/assets/CleanShot 2024-05-31 at 09.07.51.png)
>
>   ![CleanShot 2024-05-31 at 09.08.24](/Users/wwt13/Documents/Notes/assets/CleanShot 2024-05-31 at 09.08.24.png)