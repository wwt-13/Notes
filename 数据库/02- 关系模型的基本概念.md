[toc]

# 关系模型的基本概念

> 关系模型与其他模型不同，它是建立在非常严格的数学概念上的。
>
> 关系数据库系统是支持关系模型的数据库系统，根据数据模型的三要素，关系数据模型由**关系数据结构**、**关系操作集合**和**关系完整性约束**组成，分别描述了关系数据库系统的<u>静态特性</u>、<u>动态特性</u>和<u>完整性约束条件</u>

## 关系模型的基本术语-Pre

> 利用下面的这张学生登记表来介绍关系模型中的一些基本术语。

|  学号   |  姓名  | 年龄 | 性别 |  系名  | 年级 |
| :-----: | :----: | :--: | :--: | :----: | :--: |
| 2013004 | 王小明 |  19  |  女  | 社会学 | 2013 |
| 2013006 | 黄大鹏 |  20  |  男  | 计算机 | 2013 |
| 2013008 | 张文斌 |  18  |  男  |  法律  | 2013 |
|   ...   |  ...   | ...  | ...  |  ...   | ...  |

- 关系（relation）：一个关系对应通常所说的==一张表==，如上面这张学生登记表
- 元组（tuple）：**表中的一行**即为一个元组
- 属性（attribute）：表中的一列即为一个属性，给每一个属性起一个名字即为属性名
- 码（key）：是表中的某一个属性组，用其可以唯一确定一个元组，如图中的学号就是本关系的一个码
- 域（domain）：域是一组具有相同的数据类型的**值**的集合。属性的取值范围来自某个域，比如大学生年龄的集合就是（15-45岁），性别的集合就是（男，女）。
- 分量：元组中的一个属性值
- 关系模式：对关系的描述，一般可以表示为`关系名(属性1,属性2,属性3,...)`

关系模型要求关系必须规范化，**其中最基本的一条就是，*关系的每一个分量都必须是不可分的数据项***

关系模型的数据操作是集合操作：其操作的对象和操作的结果都是==关系==，与格式化模型中操作单记录的方式不同。

并且关系模型将**存取路径向用户隐藏起来**，用户只需要指出“干什么”和“找什么”，“怎么干”和“怎么找”则由数据库管理员来进行指定，提高了数据的独立性和生产效率

关系模型的完整性约束条件

1. 实体完整性
2. 参照完整性
3. 用户定义的完整性

关系模型的缺点

1. 存储路径隐蔽：查询效率不高
2. 需要对用户的查询请求优化，增加了开发数据库管理系统的难度

## 关系数据结构及形式化定义

> 关系模型的数据结构非常简单，它只包含了单一的数据结构——==关系==
>
> 在用户看来，关系模型中数据的逻辑结构就是一张扁平的二维关系表，和层次模型非常不同。

关系模型中，**现实世界的实体以及实体之间的各种联系均用单一的结构类型**，即关系来表示。

1. 域（domain）：一组相同类型的值的集合（前面有提到过）

2. 笛卡尔积（cartesian product）：

   给定一组域$D_1,D_2,D_3....D_n$，允许其中某些域是相同的，则$D_1,D_2,D_3....D_n$的笛卡尔积为
   $$
   D_1\times D_2\times...D_n=\begin{Bmatrix} (d_1,d_2,...d_n)|d_i\in D_i,i=1,2,…n \end{Bmatrix}
   $$
   其中，每一个元素$(d_1,d_2..d_n)$叫做一个n元组（n-tuple），元素中的每一个$d_i$叫做**分量**
   一个域允许的不同取值个数称为这个域的==基数==（cardinal number）
   若$D_i(i=1,2,…n)$为有限集，其基数为$m_i(i=1,2,….n)$，则$D_1\times D_2\times...D_n$的基数$M=\prod \limits_{i=1}^n m_i$
   
   笛卡尔积可以用于表示一张二维表，表中的每一行为一个元组，每一列的取值来自于对应的域
   
   以$D_1={a,b},D_2={A,B}$为例，$D1 \times D_2=\begin{Bmatrix}(a,A),(a,B),(b,A),(b,B)\end{Bmatrix}$
   
   其构建的二维表为（注意，这不是关系，关系一般是笛卡尔积的子集）
   
   | islower | isupper |
   | :-----: | :-----: |
   |    a    |    A    |
   |    a    |    B    |
   |    b    |    A    |
   |    b    |    B    |
   
3. 关系（relation）

   定义：$D_1\times D_2\times...D_n$的子集叫做在域$D_1,D_2,D_3....D_n$上的关系表示为$R(D_1,D_2,D_3....D_n)$

   $n$表示关系的目或者度（degree），此处为$n$元关系，$n$目关系必有$n$个属性

   

## 关系的三类完整性约束



## 关系代数

