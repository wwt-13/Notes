# 第十二次作业

## 1

> 试述数据库的设计过程

1. 需求分析：首先，需要确定系统或应用程序需要存储哪些数据，以及这些数据的结构和关系。通过与相关人员交流和调查，收集和整理客户或用户的需求并进行分析。
2. 概念设计：在确定了哪些数据需要被存储之后，需要设计数据库的概念模型。它描述了数据库中实体、属性和它们之间的关系。建议使用 ER 模型工具进行建模。
3. 逻辑设计：在概念设计的基础上，需要将它转化为关系模型。在这个过程中，需要定义表，字段，主键，外键和索引等重要的概念。 ER Diagram 转为 Relational Schema。
4. 物理设计：在逻辑设计的基础上，需要考虑数据库的物理存储和性能优化。需要确定表空间，数据文件等存储参数。定义适当的约束和索引来保持数据完整性和查询性能。
5. 实施：创建数据库，并将逻辑模型转化为物理模型，在数据库上创建表，索引和其他约束。将数据填充到数据库中。
6. 测试和维护：进行测试和调试，以确保数据库能够正常工作，并根据需要进行维护和优化。

## 3

> 需求分析的设计目标是什么？调查的内容是什么？

需求分析的设计目标是确定数据库系统需求，包括数据存储、处理和管理等方面，在满足用户或业务要求的前提下，建立一个能够支持数据管理的数据库系统。主要包括以下设计目标：

1. 定义业务需求：了解客户或用户对系统的要求以及需要存储和管理哪些数据。
2. 确定数据范围：确定将要处理的数据类型及其关系，例如实体、属性和关联。
3. 建立数据模型：使用工具进行绘制数据模型，如 ER 模型。
4. 识别数据元素：将数据模型中存在的所有实体、属性和关系映射到数据库架构中。
5. 定义功能：确定数据库需要支持哪些功能和操作。
6. 定义数据访问控制：定义用户对数据的读取、添加和修改权限，以保证数据安全性。

在调查的内容方面 👇🏻

1. 收集业务需求：与相关人员交流，收集客户或用户的需求，了解业务流程和数据处理方式。
2. 识别数据来源：了解数据来源，定义数据的格式、内容和质量控制要求
3. 明确数据流程：了解数据的处理过程，包括数据的采集、处理和存储等环节。
4. 计算硬件容量：了解系统所需的处理器、内存、磁盘空间等硬件资源要求。
5. 确定系统性能：确定数据库系统需要支持的用户数量、吞吐量和响应时间要求。

## 4

> 数据字典的内容和作用是什么？

数据字典指的是一个文档或工具，用于详细描述数据库系统中的所有数据元素以及其属性、类型、定义、示例等信息。它的主要作用是记录数据库中的各个数据元素的含义、用途和约束等信息，并提供给开发人员、管理员以及用户参考和使用。

1. 数据元素名称：描述数据元素的名称，以便使用者能够快速了解其含义。
2. 数据类型：定义每个字段的数据类型，如整数、字符串、日期等，以确保数据的完整性和正确性。
3. 数据长度：定义每个字段的最大长度限制，以确保输入的数据符合规定的范围。
4. 约束条件：定义对数据的严格约束条件，如主键、外键、唯一性约束等，以确保数据的完整性和一致性。
5. 默认值：定义每个字段的默认值，以确保输入的数据不缺失重要信息。
6. 说明：提供有关该数据元素的更多信息，如数据来源、编码规则等，以便使用者更好地理解和使用它。
7. 用途：描述该数据元素在数据模型中的作用，以便使用者更好地理解和使用它。

## 5

> 什么是数据库的概念结构，试述其特点和设计策略

特点:

1. 数据独立性：概念结构具有高度的数据独立性，即数据的逻辑结构与物理存储结构无关，用户不需要关心数据的具体实现方式。
2. 易于理解：概念结构通常以图形方式表示，易于理解和学习。
3. 数据的准确性和完整性：概念结构能够确保数据的准确性和完整性，通过定义实体、属性和关系等概念，有效地保护数据质量。
4. 灵活性：概念结构具有很强的灵活性，可以按照业务需求不断进行调整和修改。

设计策略:

1. 业务分析：首先要进行业务分析，深入了解业务流程和数据处理方式，明确需要存储、处理和管理哪些数据。
2. 实体识别：在概念结构中，实体是数据之间的基本单元，因此需要进行实体识别，确定数据实体及其属性，以便建立实体间的关系。
3. 决定关系：在确定了实体和属性之后，就需要确定实体之间的关系，包括一对一、一对多和多对多等关系。
4. 规范化设计：通过规范化设计，消除冗余数据，保证数据库结构的一致性、可维护性和可靠性。
5. 数据库安全：在概念结构中考虑数据库安全，确保对数据的访问和修改权限能够得到有效控制。
6. 性能优化：设计时应考虑数据库的性能问题，通过选择合适的数据类型和索引策略等措施优化数据库的性能。

## 6

> 定义并解释概念模型中以下术语：
> 实体，实体型，实体集，属性，码，实体-联系图（E-R 图）

1. 实体 (Entity)：一个独立存在的对象或事物，通常对应于业务中的一个类别或种类，例如客户、订单、商品等。
2. 实体型 (Entity type)：表示同一类型的实体的集合，例如客户实体型包括所有客户实体的集合。
3. 实体集 (Entity set)：实体型实例的集合，通常也称作实例集，实体集中的每个元素都是一个具体的数据记录，例如客户实体集包括所有客户的记录。
4. 属性 (Attribute)：表示实体型所具有的某个特征或属性，例如客户实体型可能有姓名、地址、电话等属性。
5. 码 (Key)：可以唯一标识实体型中每个实体的属性或属性组合，例如客户实体型可能通过客户编号或电话号码作为唯一标识。
6. 实体-联系图（E-R 图）(Entity-Relationship Diagram)：用于描述实体集之间的关系和实体集本身的属性，是一种图形化工具，用来展示概念模型，通常由实体、联系、属性等元素组成。

## 7

> 学校中有若干系，每个系有若干班级和教研室，每个教研室有若干教员，其中有的教授和副教授每人各带若干研究生，每个班有若干学生，每个学生选修若干课程，每门课可由若干学生选修。请用 E-R 图画出此学校的概念模型。

```mermaid
erDiagram
        系 {
            string 名称
            string 主任
        }
        班级 {
            string 班级编号
            string 系名称
            int 班级人数
        }
        教研室 {
            string 房间号
            string 系名称
            int 容纳人数
        }
        人员 {
            string 工号
            string 姓名
            string 职位
        }
        教师 {
            string 工号
            string 系名称
            date 入职时间
        }
        研究生 {
            string 学号
            string 导师工号
        }
        学生 {
            string 学号
            string 班级编号
            string 姓名
            float 总学分
        }
        课程 {
            string 课程编号
            string 课程名称
            int 学分
        }
        选课 {
            string 学号
            string 课程编号
            float 成绩
        }
        实习 {
            string 学号
            string 实习公司
            date 实习开始时间
            date 实习结束时间
        }
        // 表之间的链接关系
        系 ||--o{ 班级 : 归属于
        系 ||--o{ 教研室 : 拥有
        教师 ||--|{ 系 : 所属
        教师 ||--o{ 人员
        研究生 ||--o{ 教师 : 指导老师
        学生 ||--o{ 班级 : 归属于
        选课 }|--|| 学生 : 选修
        选课 }|--|| 课程 : 被选修
        学生 }|--|| 实习 : 参加
```

## 8

> 某工厂生产若干产品，每种产品由不同的零件组成，有的零件可用在不同的产品上。这些零件由不同的原材料制成，不同零件所用的材料可以相同。这些零件按所属的不同产品分别放在仓库中， 原材料按照类别放在若干仓库中。请用 E-R 图画出此工厂产品、零件、材料、仓库的概念模型。

```txt
+------------------+     +-------------------+
|      产品        |     |       零件        |
+------------------+     +-------------------+
| - 产品编号(PK)   |     | - 零件编号(PK)    |
| - 产品名称       |-----| - 所属产品(FK)    |
|                  |     |                   |
|                  |     |                   |
+------------------+     +---------+---------+
                                     |
                                     |
                          +----------+-----------+
                          |          材料          |
                          +----------+-----------+
                                     |
                                     |
                        +--------------+-------------+
                        |              仓库            |
                        +--------------+-------------+
                                       |
                                       |
                             +---------+--------+
                             |      存放       |
                             +---------+--------+
                                       |
                                       |
                                +------v-------+
                                |               |
                                +---------------+
```

## 9

> 什么是数据库的逻辑设计结构？试述其设计步骤

1. 需求分析：明确用户需求和任务，分析数据的来源、处理方法、存储方式和数据的使用场景，确定数据模型的基本概念和业务规则。
2. 概念设计：按照需求分析得到的数据模型，通过实体-联系图 E-R 图等方式建立概念模型，确定实体、属性、关系和约束条件等。
3. 逻辑设计：将概念模型转换为关系模式，即采用关系模型表示概念模型，确定数据表和它们之间的关系，定义主键、外键、属性类型和限制条件等。
4. 规范化设计：对关系模式进行规范化处理，从而消除不必要的冗余、提高数据存储效率，同时避免数据插入、更新、删除等操作时产生的异常情况。
5. 物理设计：将逻辑设计转换为物理存储方案，包括指定存储结构、文件组织方式、索引方案和查询优化等。
6. 数据库实现：根据物理设计建立数据库，包括建立数据表、设置关键字、指定数据类型和定义约束条件等。
7. 数据库测试与维护：对数据库的功能和性能进行测试，修复和升级数据库的对象，保证数据库的正常运行。

## 10

> 试把 7、8 中的 E-R 图转换为关系模型

## 11

> 试用规范化理论中有关范式的概念分析习题 7 设计的关系模型中各个关系模式的候选码，它们属于第几范式？会产生什么更新异常？

设计的关系模型如下：

-   系(名称, 主任)
    -   候选码：名称
    -   属于第一范式，无更新异常。
-   班级(班级编号, 系名称, 班级人数)
    -   候选码：班级编号
    -   外键：系名称 -> 系(名称)
    -   属于第二范式，无部分依赖。
-   教研室(房间号, 系名称, 容纳人数)
    -   候选码：房间号
    -   外键：系名称 -> 系(名称)
    -   属于第二范式，无部分依赖。
-   人员(工号, 姓名, 职位)
    -   候选码：工号
    -   属于第一范式，无更新异常。
-   教师(工号, 系名称, 入职时间)
    -   候选码：工号
    -   外键：系名称 -> 系(名称)
    -   属于第二范式，无部分依赖。
-   研究生(学号, 导师工号)
    -   候选码：学号
    -   外键：导师工号 -> 教师(工号)
    -   属于第二范式，无部分依赖。
-   学生(学号, 班级编号, 姓名, 总学分)
    -   候选码：学号
    -   外键：班级编号 -> 班级(班级编号)
    -   属于第二范式，无部分依赖。
-   课程(课程编号, 课程名称, 学分)
    -   候选码：课程编号
    -   属于第一范式，无更新异常。
-   选课(学号, 课程编号, 成绩) - 候选码：(学号, 课程编号) - 外键：学号 -> 学生(学号)，课程编号 -> 课程(课程编号) - 属于第二范式，无部分依赖。
    因此，所有的关系模式都是满足第三范式的。不会产生更新异常。

## 12

> 规范化理论对数据库设计有什么指导意义？

1. 避免冗余数据：规范化理论通过将表分解成更小的关系，避免了在数据库中存储相同数据的多个副本。这不仅可以节省磁盘空间，还可以保证数据的一致性和完整性。
2. 提高数据存取效率：规范化理论可以帮助我们设计出更加高效的数据库，因为通过拆分数据表，可以使得查询所需的数据更加集中、紧凑，这样就可以提高查询效率，并且使得我们的数据库更加的易于维护。
3. 保证数据完整性：规范化理论可以确保关系数据库中的数据完整性。通过将表分解成更小的、更简单的关系，可以确保每个数据实体都只有一个唯一的位置。这样可以消除数据的冗余性，防止在更改数据库时发生错误。
