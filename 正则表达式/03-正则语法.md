[toc]

# 正则表达式

## Java中使用正则的基本格式

```java
String content="abc&(abc(123(";
String regStr="\\(";
var pattern=Pattern.compile(regStr);
var matcher=pattern.matcher(content);
while(matcher.find(0)){
    System.out.println("匹配到:"+matcher.group(0))
}
```

## Java使用正则注意事项

1. Java中，两个`\\`代表其他语言的一个`\`
2. 需要用到转义字符的符号如下：`*+()$/\?[]^{}`

## 元字符：字符匹配符

| 字符匹配符号 |                 含义                 |
| :----------: | :----------------------------------: |
|    [...]     |           可接受的字符列表           |
|    [^...]    |          不可接受的字符列表          |
|      -       |          连字符（范围匹配）          |
|      .       |        匹配除\n以外的所有字符        |
|    \\\\d     |      匹配单个数组，相当于[0-9]       |
|    \\\\D     |          匹配单个非数字字符          |
|    \\\\w     | 匹配单个数字、下划线、大小写字母字符 |
|    \\\\s     |   匹配任何空白字符（空格，制表符）   |
|    \\\\S     |           匹配任何非空字符           |

```java
String content="1.[] 可接受的字符列表 [efgh] 匹配eaewr中的任意一个字符\n" +
                "        * 2.[^] 不可接受的字符列表 [^esdfasdfh] 匹配除esdffgh中的任意一个字符以外的字符\n" +
                "        * 3.- 连字符(范围匹配) A-Z 任意单个大写字符";
String regStr="[a-z]{4}";
var pattern= Pattern.compile(regStr);
var matcher=pattern.matcher(content);
while(matcher.find()){
    System.out.println("找到:"+matcher.group(0));
}
//输出
//找到:efgh
//找到:eaew
//找到:esdf
//找到:asdf
//找到:esdf
```

## 元字符：选择匹配符

基本用法：`Pattern1|Pattern2`，匹配|之前或之后的匹配模式

## 元字符：限定匹配符

> 如题，就是用于限定匹配次数的符号

| 限定匹配符 |       含义        |
| :--------: | :---------------: |
|     *      | 指定字符匹配>=0次 |
|     +      | 指定字符匹配>=1次 |
|     ?      | 指定字符匹配<=1次 |
|    {n}     |  指定字符匹配n次  |
|    {n,}    | 指定字符匹配>=n次 |
|   {n,m}    | 指定字符匹配n~m次 |

小细节：regex的匹配默认是贪婪匹配，比如`a{3,5}`，优先匹配5个a的情况

## 元字符：定位符

> 规定匹配的字符串**出现的位置**，比如是在字符串的开始还是在结束的位置

| 定位符 |          含义          |        示例        |                    解释                    |
| :----: | :--------------------: | :----------------: | :----------------------------------------: |
|   ^    |      指定起始字符      |    ^[0-9]+[a-z]    | 以至少1个数字开头，后接1个小写字母的字符串 |
|  \$ | 指定结束字符 |^[0-9]\\\\-[a-z]+\$|以数字开头，后接-，再以至少一个小写字母结尾的字符串|
| \\\\b  |  匹配目标字符串的边界  | han\\\\b | 以具体实例为例（注意首位边界不会匹配） |
| \\\\B  | 匹配目标字符串的非边界 | han\\\\B | 和上面的正好相反 |



## 杂

1. 取消大小写区分：`((?i)str)`，其中str是取消大小写匹配的字符串

   或者使用Java自带方法`Pattern.compile(regStr,Pattern.CASE_INSENSITIVE)`