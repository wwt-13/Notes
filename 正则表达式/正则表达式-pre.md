# 正则表达式

## 正则表达式-简介

- <u>简单示例1</u>：`^[0-9]+abc$`
- 具体解释
    - `^`为匹配字符串的开始位置
    - `[0-9]+`代表匹配多个0-9数字，`[0-9]`代表匹配一个数字，`+`代表匹配一个或者多个
    - `abc`匹配字母abc
    - `$`代表匹配字符串的结束位置
- <u>简单示例2</u>：`^[a-z0-9_-]{3,15}$`，该匹配的运用解释：写用户的注册表单的时候，只允许用户包含小写字母、数字、下划线、和连接字符，并设置用户名的程度为3-15
Java下支持==所有==正则表达式的环境：`. [] ^ $ \(\) \[\] ?`
- <u>简单示例3</u>：关于`.*?`的使用
  - `runoo+b`:`+`前的字符==至少出现1次==
  - `runoo*b`:`*`前的字符==至少出现0次==
  - `runoo?b`:`?`前的字符==最多出现1次==

## 正则表达式-语法

> 构造正则表达式的方法和创建数学表达式的方法一样。也就是用多种元字符与运算符可以将小的表达式结合在一起来创建更大的表达式。正则表达式的组件可以是单个的字符、字符集合、字符范围、字符间的选择或者所有这些组件的任意组合。

### 普通字符

> 普通字符包括没有显式指定为元字符的所有可打印和不可打印字符。这包括所有大写和小写字母、所有数字、所有标点符号和一些其他符号。

|   字符   |                             效果                             |
| :------: | :----------------------------------------------------------: |
| `[...]`  | 匹配`[...]`中包含的所有字符，比方说`[aeiou]`匹配字符串"google runoob taobao"中的所有eoua字符 |
| `[^...]` |               匹配除了`[...]`中字符的所有字符                |
| `[A-Z]`  |       匹配一个区间的所有字符，这里代表匹配所有大写字符       |
|   `.`    |      匹配除了换行符以外的任何单个字符，相当于`[^\r\n]`       |
| `[\s\S]` | 匹配所有字符，`\s`是匹配所有空白字符，包括换行，`\S`是非空白字符，不包括换行 |
|  `[\w]`  |           匹配字母数字下划线，相当于`[a-zA-Z0-9_]`           |

### 非打印字符

> 非打印字符可以是正则表达式的组成部分，下面列出了表示非打印字符的转义序列

| 字符  |                             描述                             |
| :---: | :----------------------------------------------------------: |
| `\cx` | 匹配由x指明的控制字符。例如， `\cM` 匹配一个 Control-M 或回车符。x 的值必须为 `A-Z` 或 `a-z` 之一。否则，将 c 视为一个原义的 'c' 字符。 |
| `\f`  |           匹配一个换页符。等价于 `\x0c` 和 `\cL`。           |
| `\n`  |           匹配一个换行符。等价于 `\x0a` 和 `\cJ`。           |
| `\r`  |           匹配一个回车符。等价于 `\x0d` 和 `\cM`。           |
| `\s`  | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 `[^ \f\n\r\t\v]`。注意 Unicode 正则表达式会匹配全角空格符。 |
| `\S`  |        匹配任何非空白字符。等价于 `[^ \f\n\r\t\v]`。         |
| `\t`  |           匹配一个制表符。等价于 `\x09 `和 `\cI`。           |
| `\v`  |         匹配一个垂直制表符。等价于 `\x0b` 和 `\cK`。         |

### 特殊字符

> 特殊字符，就是代表有特殊含义的字符，比如上面`runoo*b`中的`*`字符，表示的就是任何字符串的意思

| 特别字符 |                             描述                             |
| :------: | :----------------------------------------------------------: |
|    $     | 匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 \$ 也匹配 '\n' 或 '\r'。要匹配 \$ 字符本身，请使用 \\$。 |
|   ( )    | 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 \\( 和 \\)。 |
|    *     |  匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 \\*。   |
|    +     |  匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 \\+。   |
|    .     |  匹配除换行符 \n 之外的任何单字符。要匹配 . ，请使用 \\. 。  |
|    [     |      标记一个中括号表达式的开始。要匹配 [，请使用 \\[。      |
|    ?     | 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 \?。 |
|    \     | 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， 'n' 匹配字符 'n'。'\n' 匹配换行符。序列 '\\\\' 匹配 "\"，而 '\\(' 则匹配 "("。 |
|    ^     | 匹配输入字符串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该方括号表达式中的字符集合。要匹配 ^ 字符本身，请使用 \\^。 |
|    {     |        标记限定符表达式的开始。要匹配 {，请使用 \\{。        |
|    \|    |       指明两项之间的一个选择。要匹配 \|，请使用 \\|。        |

### 限定符

> 用于指定正则表达式的一个给定组件必须出现多少次才能满足匹配

| 字符  |                             描述                             |
| :---: | :----------------------------------------------------------: |
|   *   | 匹配前面的子表达式**零次或多次**。例如，zo* 能匹配 "z" 以及 "zoo"。* 等价于{0,}。 |
|   +   | 匹配前面的子表达式一次或多次。例如，'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。+ 等价于 {1,}。 |
|   ?   | 匹配前面的子表达式**零次或一次**。例如，"do(es)?" 可以匹配 "do" 、 "does" 中的 "does" 、 "doxy" 中的 "do" 。? 等价于 {0,1}。 |
|  {n}  | n 是一个非负整数。匹配**确定的 n 次**。例如，'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。 |
| {n,}  | n 是一个非负整数。**至少匹配n 次**。例如，'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'。 |
| {n,m} | m 和 n 均为非负整数，其中n <= m。**最少匹配 n 次且最多匹配 m 次**。例如，"o{1,3}" 将匹配 "fooooood" 中的前三个 o。'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格。 |

### 修饰符（标记）

> 正则表达式的修饰符用于指定额外的匹配策略
>
> 标记需要写在表达式外面

| 修饰符 |                            秒票数                            |
| :----: | :----------------------------------------------------------: |
|   i    |                  ignore-不区分大小写的匹配                   |
|   g    |              global-全局匹配（查找所有匹配项）               |
|   m    | multiline-多行匹配（使得边界字符`^$`匹配每一行的开头和结尾） |
|   s    |                       `.`能匹配换行符                        |
|        |                                                              |

### 定位符

> 定位符用于将正则表达式固定到行首或行尾，还能使我们创建一个定位在单词内的正则表达式

