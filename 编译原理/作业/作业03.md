# 第三次作业

> P38，练习 2-3：7(短语概念)
> P47，练习 2-4：1、5、6
> P48，练习 2-4：8、9(语法树、句柄)
> P53，练习 2-5：2(分析句子)

## 短语概念

> 2-3-7
>
> 对文法 G3[<表达式>],列出句型<表达式>+<项>\*<因子>的所有短语和简单短语

![Alt text](<CleanShot 2023-09-16 at 14.50.02.png>)

`<项>*<因子>`是句型相对于`<项>`的短语和简单短语
`<表达式>+<项>*<因子>`是句型相对于`<表达式>`的短语

> 2-4-1
>
> 给定文法 G[E]为
>
> E::=RP|P
> P::=(E)|i
> R::=RP+|RP*|P+|P*
>
> 1. 证明 i+i\*(i+i)是文法 G 的句子
> 2. 画出该句子的语法树

E=>RP=>R(E)=>R(RP)=>R(Ri)=>R(P+i)=>R(i+i)=>RP*(i+i)=>Ri*(i+i)=>P+i*(i+i)=>i+i*(i+i)

![Alt text](<CleanShot 2023-09-16 at 15.02.18.png>)

> 2-4-5
>
> 已知文法 G[E]:
>
> E::=ET+|T
> T::=TF\*|F
> F::=FP↑|P
> P::=(E)|i
>
> 有句型 TF\*PP↑+,问此句型的短语、简单短语和句柄是什么?

该句型的语法树如下所示

![Alt text](<CleanShot 2023-09-16 at 15.08.18.png>)

TF*是句型相对于 T 的短语、简单短语，同时也是该句型的句柄
TF*是句型相对于 E 的短语
P 是句型相对于 F 的短语、简单短语
PP↑ 是句型相对于 F、T 的短语
TF\*PP↑+是句型相对于 E 的短语

> 2-4-6
>
> 分别对 i+i\*i 和 i+i+i 构造两颗语法树，从而证明下述文法 G[<表达式>]是二义性的
>
> <表达式>::=i|(<表达式>)|<表达式><运算符><表达式>
> <运算符>::=+|-|\*|/

![Alt text](<CleanShot 2023-09-16 at 15.20.29.png>)

![Alt text](<CleanShot 2023-09-16 at 15.20.59.png>)

## 语法树、句柄

> 2-4-8
>
> 证明下面的文法 G[S]是二义性的：
>
> S::=iSeS|iS|i

对于语句 iiiei，存在两种不同的语法树，所以文法 G 是二义性的，相应语法树构造如下

![Alt text](<CleanShot 2023-09-16 at 15.27.52.png>)

> 2-4-9
>
> 有文法 G[N]
> N::=SE|E
> S::=SD|D
> E::=0|2|4|6|8|10
> D::=0|1|2|...|9
>
> 举例说明文法 G[N]有二义性，此文法描述的语言是什么？试写另一文法 G',使 L(G')=L(G)且 G'是无二义性的

对于句型 10,存在两种规范推导如下,由此可得该文法具有二义性

N=>SE=>S0=>D0=>10
N=>E=>10

此文法描述的语言是末尾为偶数的字符串

> 有文法 G[N']
> N::=SE|E
> S::=SD|D
> E::=0|2|4|6|8
> D::=0|1|2|...|9
>
> 只需要把 E 的 10 终结符去除即可

## 分析句子

> 2-5-2
>
> 设有一文法 G[<目标>]：
> <目标>::=V1
> V1::=V2|V1iV2
> V2::=V3|V2+V3|iV3
> V3::=)V1\*|(
>
> 试分析句子(、)(\*、i(、(+(、(+(i 以及(+)(i\*i(

前 4 中句型可以直接通过自顶向下分析得到，下面是有关分析的语法树

![Alt text](<CleanShot 2023-09-16 at 16.00.02.png>)

对于(+(i,根据自底向上分析，语句末尾的 i 无法规约为任何句型的句柄，所以该句子不是文法 G 的句子

对于(+)(i\*i(,根据 V3::=(,句首的(可能是句柄，直接规约到 V3,同理把第四个符号(也规约到 V3，再根据)和\*的位置，和 V3::=)V1\*,猜测能够将)(i\*规约到 V3,除去两端的)和\*,则只需要尝试将(i 规约到 V1 即可，首先尝试 V1=>V2=>iV3,由于 i 需要出现在末尾所以舍弃，其次尝试 V1=>V1iV2,同理 i 后面存在 V2,也需要舍弃，因此该方案无法规约，自定向上分析方法失败，所以该句子不是文法 G 的句子
